"use strict";!function(){angular.module("GRHI",[])}(),function(){function r(){function r(r,i){if(t(r))return r;var u=angular.extend({maxHours:1/0,customHours:{}},i),a=function(e){switch(e){case"milliseconds":return n(r)/60/60/1e3;case"seconds":return n(r)/60/60;case"minutes":return n(r)/60;default:return n(r)}}(u.expected),l=Math.floor(a),c=o(a*e%e);if(l<=u.maxHours){if(c+l<0)return u.customHours["0h 0m"]||"0h 0m";var m=(l>0?l+"h ":"")+(c>0?c+"m":"");return u.customHours[m]||m}return u.maxHours+" 59m"}return r}angular.module("GRHI").filter("floatToHourFormat",r);var e=60,t=function(r){return!/^-?[0-9]*(\.|,)?[0-9]*$/i.test(r)},n=function(r){return Number(r.toString().replace(",","."))},o=function(r,e){return Number(r.toFixed(e||0))};r.$inject=[]}(),function(){angular.module("GRHI").filter("formatToMillis",function(){return function(r){r+="";var e=[0,0],t=!1;return r.match(/m/i)&&r.match(/h/i)&&(t=!0,e=r.replace(/m/i,"").split(/h/i)),!t&&r.match(/h/i)&&(e[0]=r.replace(/h/i,"")),!t&&r.match(/m/i)&&(e[1]=r.replace(/m/i,"")),60*(Number(e[0])+Number(e[1])/60)*60*1e3}})}(),function(){function r(r,e){function t(r,t){if(void 0!==r){if(/^[0-9]*:[0-9]*?$/i.test(r)){var u=r.split(":"),a=Number(u[0]),l=Number(u[1]);a=isNaN(a)?0:a,l=isNaN(l)?0:l,r=a+l/i}return/^[1-9]+[0-9]*h\s*[0-9]*m?$/i.test(r)&&(r=o(r)),/^[1-9]+[0-9]*(h|m)$/i.test(r)&&(r=n(r)),e(r,t)}}function n(r){return r+="",r.match(/m/i)?Number(r.replace(/m/i,"")/i):r.match(/h/i)?Number(r.replace(/h/i,"")):void 0}function o(r){return r=r.toString().trim().replace(/\s/g,"").replace(/m/i,"").split(/h/i),Number(r[0])+Number(r[1])/i}var i=60;r.options||(r.options={}),"milliseconds"==r.options.expected&&(r.ngModel=t(r.ngModel/60/1e3,r.options)),r.validateAndParseDateFormat=function(e){var n=t(e.currentTarget.value.trim(),r.options);void 0!==r.ngModel&&(r.ngModel=n)}}angular.module("GRHI").controller("grHourInputController",["$scope","floatToHourFormatFilter",r])}(),function(){function r(r,e,t){var n=["ngModel"];for(var o in t)-1!=n.indexOf(o)&&n.splice(n.indexOf(o),1);if(n.length)throw new Error(n.join(", ")+" are/is required to the directive work properly!")}angular.module("GRHI").directive("grHourInput",function(){return{restrict:"E",replace:!0,template:'<input type="text" data-ng-blur="validateAndParseDateFormat($event);" data-ng-pattern="/\\s*(^\\d+[hm]?\\s*$)|(^\\s*\\d+([\\.,:h]\\s*)(\\d+\\s*$|\\d+[m]\\s*)($))/i">',controller:"grHourInputController",link:r,scope:{ngModel:"=",options:"=?"}}})}();