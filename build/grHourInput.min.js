"use strict";!function(){angular.module("GRHI",[])}(),function(){angular.module("GRHI").filter("floatToHourFormat",function(){var r=60;return function(e,t){var o=angular.extend({maxHours:1/0,customHours:{}},t);switch(o.expected){case"milliseconds":e=e/60/60/1e3;break;case"seconds":e=e/60/60;break;case"minutes":e/=60}if(!/^[0-9]*(\.|,)?[0-9]*$/i.test(e))return e;e=Number((e+"").replace(",","."));var n=Number((e*r%r).toFixed(0)),i=Math.floor(Number(e));if(n>=r&&(i+=Number((n/r).toFixed(0)),n=0),i<=o.maxHours){if(n<=0&&i<=0){var u="0h 0m",a=o.customHours[u];return a?a:u}if(i>0&&n>0){var l=i+"h "+n+"m",m=o.customHours[l];return m?m:l}i=i>0?i+"h":"",n=n>0?n+"m":"";var s=o.customHours[i+n];return s?s:i+n}return o.maxHours+" 59m"}})}(),function(){angular.module("GRHI").filter("formatToMillis",function(){return function(r){r+="";var e=[0,0],t=!1;return r.match(/m/i)&&r.match(/h/i)&&(t=!0,e=r.replace(/m/i,"").split(/h/i)),!t&&r.match(/h/i)&&(e[0]=r.replace(/h/i,"")),!t&&r.match(/m/i)&&(e[1]=r.replace(/m/i,"")),60*(Number(e[0])+Number(e[1])/60)*60*1e3}})}(),function(){function r(r,e){function t(r,t){if(void 0!==r){if(/^[0-9]*:[0-9]*?$/i.test(r)){var u=r.split(":"),a=Number(u[0]),l=Number(u[1]);a=isNaN(a)?0:a,l=isNaN(l)?0:l,r=a+l/i}return/^[1-9]+[0-9]*h\s*[0-9]*m?$/i.test(r)&&(r=n(r)),/^[1-9]+[0-9]*(h|m)$/i.test(r)&&(r=o(r)),e(r,t)}}function o(r){return r+="",r.match(/m/i)?Number(r.replace(/m/i,"")/i):r.match(/h/i)?Number(r.replace(/h/i,"")):void 0}function n(r){return r=r.toString().trim().replace(/\s/g,"").replace(/m/i,"").split(/h/i),Number(r[0])+Number(r[1])/i}var i=60;r.options||(r.options={}),"milliseconds"==r.options.expected&&(r.ngModel=t(r.ngModel/60/1e3,r.options)),r.validateAndParseDateFormat=function(e){var o=t(e.currentTarget.value.trim(),r.options);void 0!==r.ngModel&&(r.ngModel=o)}}angular.module("GRHI").controller("grHourInputController",["$scope","floatToHourFormatFilter",r])}(),function(){function r(r,e,t){var o=["ngModel"];for(var n in t)o.indexOf(n)!=-1&&o.splice(o.indexOf(n),1);if(o.length)throw new Error(o.join(", ")+" are/is required to the directive work properly!")}angular.module("GRHI").directive("grHourInput",function(){return{restrict:"E",replace:!0,template:'<input type="text" data-ng-blur="validateAndParseDateFormat($event);" data-ng-pattern="/\\s*(^\\d+[hm]?\\s*$)|(^\\s*\\d+([\\.,:h]\\s*)(\\d+\\s*$|\\d+[m]\\s*)($))/i">',controller:"grHourInputController",link:r,scope:{ngModel:"=",options:"=?"}}})}();